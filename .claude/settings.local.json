{
  "permissions": {
    "allow": [
      "mcp__sequential-thinking__sequentialthinking",
      "mcp__context7__resolve-library-id",
      "mcp__context7__get-library-docs",
      "Bash(md-tree:*)",
      "Bash(npm install:*)",
      "Bash(sudo npm install -g @kayvan/markdown-tree-parser)",
      "Bash(mkdir:*)",
      "Bash(python -m alembic revision:*)",
      "Bash(python3 -m alembic revision:*)",
      "Bash(chmod:*)",
      "Bash(npm run test:*)",
      "Bash(python -m pytest -v)",
      "Bash(python3 -m pytest -v)",
      "Bash(npm run lint)",
      "Bash(python:*)",
      "Bash(docker-compose up:*)",
      "Bash(sudo systemctl stop:*)",
      "Bash(ss:*)",
      "Bash(docker-compose:*)",
      "Bash(export DATABASE_URL=postgresql://postgres:password@localhost:5433/xm_port_dev)",
      "Bash(export DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@localhost:5433/xm_port_dev)",
      "Bash(export SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4)",
      "Bash(export OPENAI_API_KEY=dummy_key_for_migration)",
      "Bash(SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 DATABASE_URL=postgresql://postgres:password@localhost:5433/xm_port_dev DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@localhost:5433/xm_port_dev OPENAI_API_KEY=dummy_key_for_test python -m pytest tests/ -v)",
      "Bash(SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 DATABASE_URL=postgresql://postgres:password@localhost:5433/xm_port_dev DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@localhost:5433/xm_port_dev OPENAI_API_KEY=dummy_key_for_test python -m pytest tests/unit/test_models.py -v)",
      "Bash(pip install:*)",
      "Bash(SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 JWT_SECRET_KEY=test-jwt-secret-key PYTHONPATH=/mnt/d/PROJECTS/XM-PORT/apps/api python -m pytest tests/unit/test_auth_service.py -v)",
      "Bash(npm test)",
      "Bash(export SECRET_KEY=test_secret)",
      "Bash(export JWT_SECRET_KEY=test_jwt_secret)",
      "Bash(export DATABASE_URL=sqlite:///test.db)",
      "Bash(export DATABASE_URL_ASYNC=sqlite+aiosqlite:///test.db)",
      "Bash(export OPENAI_API_KEY=test_key)",
      "Bash(export SECRET_KEY=\"test_secret_key_that_is_32_chars_long\")",
      "Bash(export JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\")",
      "Bash(SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 DATABASE_URL=postgresql://postgres:password@localhost:5433/xm_port_dev DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@localhost:5433/xm_port_dev OPENAI_API_KEY=dummy_key_for_test python -m pytest apps/api/tests/unit/test_auth_service.py -v)",
      "Bash(SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 DATABASE_URL=postgresql://postgres:password@localhost:5433/xm_port_dev DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@localhost:5433/xm_port_dev OPENAI_API_KEY=dummy_key_for_test python -m pytest apps/api/tests/integration/test_auth_api.py -v)",
      "Bash(SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 DATABASE_URL=postgresql://postgres:password@localhost:5433/xm_port_dev DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@localhost:5433/xm_port_dev OPENAI_API_KEY=dummy_key_for_test python -m pytest tests/unit/test_auth_service.py -v)",
      "Bash(SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 JWT_SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 DATABASE_URL=postgresql://postgres:password@localhost:5433/xm_port_dev DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@localhost:5433/xm_port_dev OPENAI_API_KEY=dummy_key_for_test python -m pytest tests/unit/test_auth_service.py -v)",
      "Bash(find:*)",
      "Bash(npx shadcn-ui:*)",
      "Bash(npx shadcn@latest add:*)",
      "Bash(mv:*)",
      "Bash(rmdir:*)",
      "Bash(npm run build:*)",
      "Bash(npx tsc:*)",
      "Bash(grep:*)",
      "Bash(npm test:*)",
      "Bash(npm ls:*)",
      "Bash(SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 JWT_SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 DATABASE_URL=postgresql://postgres:password@localhost:5433/xm_port_dev DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@localhost:5433/xm_port_dev OPENAI_API_KEY=dummy_key_for_test python -m pytest tests/unit/test_file_upload.py::TestFileProcessingService::test_validate_file_size_within_limit -v -s)",
      "Bash(rm:*)",
      "Bash(SECRET_KEY=test_secret JWT_SECRET_KEY=test_jwt_secret DATABASE_URL=sqlite:///test.db DATABASE_URL_ASYNC=sqlite+aiosqlite:///test.db OPENAI_API_KEY=test_key python -m pytest tests/unit/test_file_upload.py::TestFileProcessingService::test_validate_unit_price_field -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=sqlite:///test.db DATABASE_URL_ASYNC=sqlite+aiosqlite:///test.db OPENAI_API_KEY=test_key python -m pytest tests/unit/test_file_upload.py::TestFileProcessingService::test_validate_unit_price_field -v)",
      "Bash(SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 DATABASE_URL=postgresql://postgres:password@localhost:5433/xm_port_dev DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@localhost:5433/xm_port_dev OPENAI_API_KEY=dummy_key_for_test python -m pytest apps/api/tests/unit/test_file_upload.py -v)",
      "Bash(rm:*)",
      "Bash(SECRET_KEY=test_secret JWT_SECRET_KEY=test_jwt_secret DATABASE_URL=sqlite:///test.db DATABASE_URL_ASYNC=sqlite+aiosqlite:///test.db OPENAI_API_KEY=test_key python -m pytest tests/unit/test_file_upload.py::TestCreditBalanceValidation::test_check_user_credits_sufficient -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=sqlite:///test.db DATABASE_URL_ASYNC=sqlite+aiosqlite:///test.db OPENAI_API_KEY=test_key python -m pytest tests/unit/test_file_upload.py::TestCreditBalanceValidation::test_check_user_credits_sufficient -v)",
      "Bash(node:*)",
      "Bash(SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 JWT_SECRET_KEY=GE3j2VqzbyfloO6oqa4zJqmQcJuMgKdryNUGdnJl0p4 DATABASE_URL=postgresql://postgres:password@localhost:5433/xm_port_dev DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@localhost:5433/xm_port_dev OPENAI_API_KEY=dummy_key_for_test python -m pytest tests/unit/test_file_upload.py -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest apps/api/tests/unit/test_file_upload_security.py -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest tests/unit/test_file_upload.py::TestCreditBalanceValidation::test_check_user_credits_sufficient -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest tests/unit/test_rate_limiting.py::TestRateLimitingMiddleware::test_upload_rate_limits_configuration -v)",
      "Bash(cp:*)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest tests/unit/test_hs_matching_service.py -v)",
      "Bash(npm run dev:*)",
      "Bash(curl:*)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest apps/api/tests/unit/test_cache_service.py -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python3 -m pytest apps/api/tests/unit/test_cache_service.py -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python3 -m pytest tests/unit/test_cache_service.py -v)",
      "Bash(powershell:*)",
      "Bash(source:*)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest tests/unit/test_cache_service.py -v)",
      "Bash(PYTHONPATH=/mnt/d/PROJECTS/XM-PORT/apps/api SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" /usr/bin/python3 -m pytest tests/unit/test_cache_service.py -v -s)",
      "Bash(/usr/bin/python3 -m pip install:*)",
      "Bash(PYTHONPATH=/mnt/d/PROJECTS/XM-PORT/apps/api SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" /usr/bin/python3 tests/unit/test_cache_service.py)",
      "Bash(PYTHONPATH=/mnt/d/PROJECTS/XM-PORT/apps/api /usr/bin/python3 -c \"\nimport sys\nsys.path.insert(0, ''.'')\ntry:\n    from src.services.cache_service import CacheService, cache_service\n    from src.services.hs_matching_service import hs_matching_service\n    print(''✅ Cache service imports successfully'')\n    print(''✅ HS matching service imports successfully'')\n    print(''✅ Cache integration completed'')\nexcept Exception as e:\n    print(f''❌ Import error: {e}'')\n\")",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest apps/api/tests/unit/test_hs_matching_api.py -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest apps/api/tests/unit/test_analytics_service.py -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python3 -m pytest apps/api/tests/unit/test_analytics_service.py::TestHSCodeAnalyticsService::test_record_matching_operation_success -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest apps/api/tests/performance/test_hs_matching_performance.py -v -s)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python3 -m pytest tests/performance/test_hs_matching_performance.py::TestPerformanceOptimization::test_single_request_performance -v -s)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest apps/api/tests/integration/test_file_processing_hs_integration.py -v)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python3 -m pytest apps/api/tests/integration/test_file_processing_hs_integration.py -v)",
      "Bash(PYTHONPATH=/mnt/d/PROJECTS/XM-PORT/apps/api SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" /usr/bin/python3 -m pytest tests/integration/test_file_processing_hs_integration.py -v)",
      "Bash(PYTHONPATH=/mnt/d/PROJECTS/XM-PORT/apps/api /usr/bin/python3 -c \"\ntry:\n    from src.services.file_processing import FileProcessingService\n    from src.services.hs_matching_service import hs_matching_service\n    from src.models.product_match import ProductMatch\n    print(''✅ All imports successful'')\n    print(''✅ Integration imports working correctly'')\n    \n    # Test FileProcessingService has the new methods\n    import inspect\n    methods = [method for method in dir(FileProcessingService) if not method.startswith(''_'')]\n    print(''FileProcessingService methods:'', methods)\n    \n    if ''process_products_with_hs_matching'' in methods:\n        print(''✅ process_products_with_hs_matching method exists'')\n    if ''process_file_with_hs_matching'' in methods:\n        print(''✅ process_file_with_hs_matching method exists'')\n        \nexcept Exception as e:\n    print(f''❌ Import error: {e}'')\n\")",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest apps/api/tests/unit/test_hs_matching_service.py -v --tb=short)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python3 -m pytest apps/api/tests/unit/test_hs_matching_service.py -v --tb=short)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python3 -c \"\nimport sys\nprint(''Python path:'', sys.path)\ntry:\n    import pytest\n    print(''✓ pytest available'')\nexcept ImportError:\n    print(''✗ pytest not available'')\ntry:\n    import asyncio\n    print(''✓ asyncio available'')\nexcept ImportError:\n    print(''✗ asyncio not available'')\n\")",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python -m pytest apps/api/tests/unit/test_hs_matching_service.py -v --tb=short)",
      "Bash(SECRET_KEY=\"test_secret_key_that_is_32_chars_long\" JWT_SECRET_KEY=\"test_jwt_secret_key_that_is_32_chars_long\" DATABASE_URL=\"sqlite:///test.db\" DATABASE_URL_ASYNC=\"sqlite+aiosqlite:///test.db\" OPENAI_API_KEY=\"test_key\" python3 -m pytest apps/api/tests/unit/test_hs_matching_service.py -v --tb=short)"
    ],
    "deny": [],
    "ask": []
  }
}