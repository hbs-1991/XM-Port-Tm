(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{1460:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(7620),r=t(96006),i=t(39039);function l(){let{data:e,status:s}=(0,r.useSession)(),{user:t,isAuthenticated:l,isLoading:n,error:c,setSession:o,login:d,logout:x,register:m,clearError:u}=(0,i.n)();(0,a.useEffect)(()=>{o(e)},[e,o]);let h=e=>(null==t?void 0:t.role)===e,g=e=>!!t&&e.includes(t.role);return{user:t,session:e,isAuthenticated:l,isLoading:n||"loading"===s,error:c,login:d,logout:x,register:m,clearError:u,hasRole:h,hasAnyRole:g,isAdmin:()=>h("ADMIN"),isProjectOwner:()=>h("PROJECT_OWNER"),canAccessAdmin:()=>g(["ADMIN","PROJECT_OWNER"])}}},3578:(e,s,t)=>{Promise.resolve().then(t.bind(t,37296))},8129:(e,s,t)=>{"use strict";t.d(s,{k:()=>n});var a=t(54568),r=t(7620),i=t(1161),l=t(25703);let n=r.forwardRef((e,s)=>{let{className:t,value:r,...n}=e;return(0,a.jsx)(i.bL,{ref:s,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:(0,a.jsx)(i.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});n.displayName=i.bL.displayName},15998:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>l,aR:()=>n});var a=t(54568),r=t(7620),i=t(25703);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});o.displayName="CardDescription";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...r})});d.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},25703:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(72902),r=t(13714);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},37296:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>er});var a=t(54568),r=t(7620),i=t(1460),l=t(15998),n=t(60460),c=t(61445),o=t(8129),d=t(97152),x=t(30866),m=t(12494),u=t(74717),h=t(57542);let g=function(e){let{creditBalance:s,loading:t=!1,className:g=""}=e,{user:j}=(0,i.A)(),[f,p]=(0,r.useState)(null);if((0,r.useEffect)(()=>{if(s)p(s);else if(j){let e=j.creditsRemaining+j.creditsUsedThisMonth;p({remaining:j.creditsRemaining,total:e,usedThisMonth:j.creditsUsedThisMonth,percentageUsed:e>0?j.creditsUsedThisMonth/e*100:0,subscriptionTier:j.subscriptionTier})}},[s,j]),t)return(0,a.jsxs)(l.Zp,{className:"animate-pulse ".concat(g),children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded"}),(0,a.jsx)("div",{className:"h-3 bg-gray-300 rounded"}),(0,a.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/3"})]})]});if(!f)return(0,a.jsx)(l.Zp,{className:g,children:(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5"}),"Credit Balance"]}),(0,a.jsx)(l.BT,{children:"Unable to load credit information"})]})});let v=f.remaining<100,y=f.remaining<25,N=Math.min(f.percentageUsed,100),b=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"Unknown";return(0,a.jsxs)("div",{className:"space-y-4 ".concat(g),children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5"}),"Credit Balance",(0,a.jsx)("div",{className:"relative",title:"Credits are used to process your files and match HS codes",children:(0,a.jsx)(x.A,{className:"h-4 w-4 text-gray-400 cursor-help"})})]}),(0,a.jsxs)(l.BT,{children:["Current balance and monthly usage for your ",b(f.subscriptionTier)," plan"]})]}),(0,a.jsxs)(l.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:f.remaining.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:"Credits Available"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Monthly Usage"}),(0,a.jsxs)("span",{className:"font-medium",children:[f.usedThisMonth.toLocaleString()," / ",f.total.toLocaleString()]})]}),(0,a.jsx)(o.k,{value:N,className:"h-2"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:[N.toFixed(1),"% used this month"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Plan"}),(0,a.jsx)(c.E,{variant:"outline",className:(e=>{if(!e)return"bg-gray-100 text-gray-800 border-gray-200";switch(e.toUpperCase()){case"FREE":default:return"bg-gray-100 text-gray-800 border-gray-200";case"BASIC":return"bg-blue-100 text-blue-800 border-blue-200";case"PREMIUM":return"bg-purple-100 text-purple-800 border-purple-200";case"ENTERPRISE":return"bg-amber-100 text-amber-800 border-amber-200"}})(f.subscriptionTier),children:b(f.subscriptionTier)})]}),(0,a.jsxs)(n.$,{className:"w-full",variant:"outline",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Purchase Credits"]})]})]}),(v||y)&&(0,a.jsxs)(h.Fc,{variant:y?"destructive":"default",children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),(0,a.jsx)(h.XL,{children:y?"Critical Low Balance":"Low Credit Balance"}),(0,a.jsx)(h.TN,{children:y?(0,a.jsx)(a.Fragment,{children:"You have very few credits remaining. Consider purchasing more credits to continue processing files."}):(0,a.jsx)(a.Fragment,{children:"Your credit balance is running low. You may want to purchase additional credits soon."})})]})]})};var j=t(24643),f=t(53502),p=t(10614),v=t(81983),y=t(52744),N=t(387),b=t(63072),w=t(13119),C=t(72835),A=t(74624),R=t(30563),T=t(25703);let S=R.Kq,U=R.bL,k=R.l9,P=r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...i}=e;return(0,a.jsx)(R.UC,{ref:s,sideOffset:r,className:(0,T.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...i})});function E(e){let{title:s,value:t,subtitle:r,icon:i,trend:n,trendValue:c,color:o="gray"}=e;return(0,a.jsx)(l.Zp,{className:"border border-gray-200",children:(0,a.jsx)(l.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat({blue:"text-blue-600 bg-blue-50 border-blue-200",green:"text-green-600 bg-green-50 border-green-200",red:"text-red-600 bg-red-50 border-red-200",yellow:"text-yellow-600 bg-yellow-50 border-yellow-200",purple:"text-purple-600 bg-purple-50 border-purple-200",gray:"text-gray-600 bg-gray-50 border-gray-200"}[o]),children:(0,a.jsx)(i,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:s}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"number"==typeof t?t.toLocaleString():t}),n&&c&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:["up"===n?(0,a.jsx)(j.A,{className:"h-3 w-3 text-green-500"}):"down"===n?(0,a.jsx)(f.A,{className:"h-3 w-3 text-red-500"}):(0,a.jsx)(p.A,{className:"h-3 w-3 text-gray-400"}),(0,a.jsxs)("span",{className:"text-xs font-medium ".concat("up"===n?"text-green-600":"down"===n?"text-red-600":"text-gray-500"),children:[c,"%"]})]})]}),r&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:r})]})]})})})})}P.displayName=R.UC.displayName;let B=function(e){let{statistics:s,loading:t=!1,className:i=""}=e,[n,d]=(0,r.useState)(null);if((0,r.useEffect)(()=>{s&&d(s)},[s]),t)return(0,a.jsx)("div",{className:"space-y-6 ".concat(i),children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,s)=>(0,a.jsx)(l.Zp,{className:"animate-pulse",children:(0,a.jsx)(l.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded w-1/2"})]})]})})},s))})});if(!n)return(0,a.jsx)("div",{className:i,children:(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5"}),"Usage Metrics"]}),(0,a.jsx)(l.BT,{children:"Unable to load usage statistics"})]})})});let{processingStats:x,monthlyUsage:m}=n;return(0,a.jsxs)("div",{className:"space-y-6 ".concat(i),children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(E,{title:"Total Jobs",value:x.totalJobs,subtitle:"All time",icon:v.A,color:"blue"}),(0,a.jsx)(E,{title:"Success Rate",value:"".concat(x.successRate.toFixed(1),"%"),subtitle:"Processing success",icon:y.A,color:x.successRate>90?"green":x.successRate>75?"yellow":"red"}),(0,a.jsx)(E,{title:"Avg. Confidence",value:"".concat(n.averageConfidence.toFixed(1),"%"),subtitle:"AI matching confidence",icon:N.A,color:n.averageConfidence>85?"green":n.averageConfidence>70?"yellow":"red"}),(0,a.jsx)(E,{title:"This Month",value:m.jobsCompleted,subtitle:"".concat(m.month," ").concat(m.year),icon:b.A,color:"purple"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-5 w-5"}),"Processing Performance"]}),(0,a.jsx)(l.BT,{children:"Overview of your file processing statistics"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Completed Jobs"})]}),(0,a.jsx)("span",{className:"font-semibold text-green-600",children:x.completedJobs.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Failed Jobs"})]}),(0,a.jsx)("span",{className:"font-semibold text-red-600",children:x.failedJobs.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Products"})]}),(0,a.jsx)("span",{className:"font-semibold",children:x.totalProducts.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Successful Matches"})]}),(0,a.jsx)("span",{className:"font-semibold text-green-600",children:x.successfulMatches.toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Match Success Rate"}),(0,a.jsxs)("span",{className:"font-medium",children:[x.totalProducts>0?(x.successfulMatches/x.totalProducts*100).toFixed(1):0,"%"]})]}),(0,a.jsx)(o.k,{value:x.totalProducts>0?x.successfulMatches/x.totalProducts*100:0,className:"h-2"})]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-5 w-5"}),"Monthly Overview"]}),(0,a.jsxs)(l.BT,{children:[m.month," ",m.year," performance summary"]})]}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:m.creditsUsed.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Credits Used"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:m.filesProcessed.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Files Processed"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Avg. Processing Time"}),(0,a.jsx)(S,{children:(0,a.jsxs)(U,{children:[(0,a.jsx)(k,{children:(0,a.jsx)("span",{className:"text-gray-400 cursor-help",children:"â“˜"})}),(0,a.jsx)(P,{children:(0,a.jsx)("p",{children:"Average time to process each file"})})]})})]}),(0,a.jsx)("span",{className:"font-semibold",children:m.averageProcessingTime>6e4?"".concat((m.averageProcessingTime/6e4).toFixed(1),"m"):"".concat((m.averageProcessingTime/1e3).toFixed(1),"s")})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Jobs This Month"}),(0,a.jsx)(c.E,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:m.jobsCompleted})]})]})]})]})]})]})};var L=t(79886),F=t(65087),M=t(75724),Z=t(94503),W=t(71240),J=t(18735),D=t(72372),_=t(20328),z=t(29942),O=t(27180),I=t(77582),K=t(99648),$=t(61145);let H=[{date:"2025-08-20",creditsUsed:45,jobsCompleted:3,averageConfidence:87.5},{date:"2025-08-21",creditsUsed:62,jobsCompleted:4,averageConfidence:91.2},{date:"2025-08-22",creditsUsed:38,jobsCompleted:2,averageConfidence:84.6},{date:"2025-08-23",creditsUsed:71,jobsCompleted:5,averageConfidence:89.8},{date:"2025-08-24",creditsUsed:29,jobsCompleted:2,averageConfidence:88.1},{date:"2025-08-25",creditsUsed:84,jobsCompleted:6,averageConfidence:92.4},{date:"2025-08-26",creditsUsed:56,jobsCompleted:4,averageConfidence:86.7}],V=[{month:"Jun",year:2025,creditsUsed:1250,jobsCompleted:85,successRate:89.4},{month:"Jul",year:2025,creditsUsed:1480,jobsCompleted:102,successRate:91.7},{month:"Aug",year:2025,creditsUsed:890,jobsCompleted:64,successRate:88.2}],X=[{hour:9,jobCount:12,averageProcessingTime:4500},{hour:10,jobCount:18,averageProcessingTime:3800},{hour:11,jobCount:25,averageProcessingTime:4200},{hour:12,jobCount:8,averageProcessingTime:5100},{hour:13,jobCount:15,averageProcessingTime:3900},{hour:14,jobCount:22,averageProcessingTime:4100},{hour:15,jobCount:28,averageProcessingTime:3600},{hour:16,jobCount:20,averageProcessingTime:4300}],q=[{name:"Completed",value:85,color:"#10b981"},{name:"Completed with Errors",value:12,color:"#f59e0b"},{name:"Failed",value:3,color:"#ef4444"}],G=function(e){let{statistics:s,analytics:t,loading:i=!1,className:c=""}=e,[o,d]=(0,r.useState)("daily");if(i)return(0,a.jsx)("div",{className:"space-y-6 ".concat(c),children:(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Array.from({length:4}).map((e,s)=>(0,a.jsxs)(l.Zp,{className:"animate-pulse",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"h-64 bg-gray-300 rounded"})})]},s))})});let x=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}),m=e=>{let{active:s,payload:t,label:r}=e;return s&&t&&t.length?(0,a.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:r}),t.map((e,s)=>(0,a.jsx)("p",{style:{color:e.color},className:"text-sm",children:"".concat(e.dataKey,": ").concat(e.value)},s))]}):null};return(0,a.jsxs)("div",{className:"space-y-6 ".concat(c),children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(n.$,{variant:"daily"===o?"default":"outline",onClick:()=>d("daily"),size:"sm",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Daily Usage"]}),(0,a.jsxs)(n.$,{variant:"monthly"===o?"default":"outline",onClick:()=>d("monthly"),size:"sm",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Monthly Trends"]}),(0,a.jsxs)(n.$,{variant:"performance"===o?"default":"outline",onClick:()=>d("performance"),size:"sm",children:[(0,a.jsx)(w.A,{className:"h-4 w-4 mr-2"}),"Performance"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(l.Zp,{className:"lg:col-span-2",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5"}),"daily"===o&&"Daily Usage Trends","monthly"===o&&"Monthly Performance Overview","performance"===o&&"Processing Performance Metrics"]}),(0,a.jsxs)(l.BT,{children:["daily"===o&&"Daily credit usage and job completion over the past week","monthly"===o&&"Monthly trends in processing volume and success rates","performance"===o&&"Processing performance metrics and timing analysis"]})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)(L.u,{width:"100%",height:300,children:"daily"===o?(0,a.jsxs)(F.E,{data:H,children:[(0,a.jsx)(M.d,{strokeDasharray:"3 3"}),(0,a.jsx)(Z.W,{dataKey:"date",tickFormatter:x,tick:{fontSize:12}}),(0,a.jsx)(W.h,{tick:{fontSize:12}}),(0,a.jsx)(J.m,{content:(0,a.jsx)(m,{})}),(0,a.jsx)(D.s,{}),(0,a.jsx)(_.y,{dataKey:"creditsUsed",fill:"#3b82f6",name:"Credits Used"}),(0,a.jsx)(_.y,{dataKey:"jobsCompleted",fill:"#10b981",name:"Jobs Completed"})]}):"monthly"===o?(0,a.jsxs)(z.b,{data:V,children:[(0,a.jsx)(M.d,{strokeDasharray:"3 3"}),(0,a.jsx)(Z.W,{dataKey:"month",tick:{fontSize:12}}),(0,a.jsx)(W.h,{tick:{fontSize:12}}),(0,a.jsx)(J.m,{content:(0,a.jsx)(m,{})}),(0,a.jsx)(D.s,{}),(0,a.jsx)(O.N,{type:"monotone",dataKey:"creditsUsed",stroke:"#3b82f6",strokeWidth:2,name:"Credits Used"}),(0,a.jsx)(O.N,{type:"monotone",dataKey:"jobsCompleted",stroke:"#10b981",strokeWidth:2,name:"Jobs Completed"}),(0,a.jsx)(O.N,{type:"monotone",dataKey:"successRate",stroke:"#f59e0b",strokeWidth:2,name:"Success Rate (%)"})]}):(0,a.jsxs)(F.E,{data:X,children:[(0,a.jsx)(M.d,{strokeDasharray:"3 3"}),(0,a.jsx)(Z.W,{dataKey:"hour",tickFormatter:e=>"".concat(e,":00"),tick:{fontSize:12}}),(0,a.jsx)(W.h,{tick:{fontSize:12}}),(0,a.jsx)(J.m,{content:(0,a.jsx)(m,{})}),(0,a.jsx)(D.s,{}),(0,a.jsx)(_.y,{dataKey:"jobCount",fill:"#8b5cf6",name:"Job Count"})]})})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-5 w-5"}),"Processing Status"]}),(0,a.jsx)(l.BT,{children:"Distribution of job completion status"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)(L.u,{width:"100%",height:250,children:(0,a.jsxs)(I.r,{children:[(0,a.jsx)(K.F,{data:q,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:e=>{let{name:s,value:t}=e;return"".concat(s,": ").concat(t,"%")},children:q.map((e,s)=>(0,a.jsx)($.f,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(J.m,{})]})})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-5 w-5"}),"Confidence Trends"]}),(0,a.jsx)(l.BT,{children:"AI matching confidence over time"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)(L.u,{width:"100%",height:250,children:(0,a.jsxs)(z.b,{data:H,children:[(0,a.jsx)(M.d,{strokeDasharray:"3 3"}),(0,a.jsx)(Z.W,{dataKey:"date",tickFormatter:x,tick:{fontSize:10}}),(0,a.jsx)(W.h,{domain:[80,95],tick:{fontSize:10}}),(0,a.jsx)(J.m,{formatter:e=>["".concat(e,"%"),"Confidence"],labelFormatter:x}),(0,a.jsx)(O.N,{type:"monotone",dataKey:"averageConfidence",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",strokeWidth:2}})]})})})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-5 w-5"}),"Performance Summary"]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==s?void 0:s.processingStats.totalJobs)||0}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Jobs"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[(null==s?void 0:s.processingStats.successRate.toFixed(1))||0,"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Success Rate"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[(null==s?void 0:s.averageConfidence.toFixed(1))||0,"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Avg. Confidence"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null==s?void 0:s.monthlyUsage.creditsUsed)||0}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Monthly Credits"})]})]})})]})]})};var Q=t(28653),Y=t(32011),ee=t(75892),es=t(19760),et=t(19664),ea=t.n(et);function er(){let{user:e}=(0,i.A)(),[s,t]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0),[x,m]=(0,r.useState)(null),u=[{id:"1",fileName:"import_batch_2024_01.xlsx",status:"completed",date:"2024-01-23 14:30",products:150,confidence:96.5},{id:"2",fileName:"export_products_jan.csv",status:"processing",date:"2024-01-23 13:45",products:87,confidence:0},{id:"3",fileName:"customs_declaration.xlsx",status:"completed",date:"2024-01-23 12:20",products:234,confidence:93.8}];return(0,r.useEffect)(()=>{(async()=>{if(e)try{console.log("Fetching statistics for user:",e.email);let s=await fetch("/api/proxy/api/v1/users/statistics",{headers:{Authorization:"Bearer ".concat(e.accessToken),"Content-Type":"application/json"}});if(s.ok){let e=await s.json();t(e)}else{let e="HTTP ".concat(s.status,": ").concat(s.statusText);try{let t=await s.text();t&&(e+=" - ".concat(t)),console.error("Statistics API Error:",JSON.stringify({status:s.status,statusText:s.statusText,body:t,url:s.url},null,2))}catch(e){console.error("Failed to parse error response:",e)}throw Error("Failed to fetch statistics: ".concat(e))}}catch(a){let s=a instanceof Error?a.message:"Failed to load statistics";m(s),console.error("Error fetching statistics:",JSON.stringify({error:a instanceof Error?a.message:String(a),message:s,user:null==e?void 0:e.email,hasToken:!!(null==e?void 0:e.accessToken)},null,2)),t({totalJobs:127,successRate:98.5,averageConfidence:94.2,monthlyUsage:{creditsUsed:450,jobsCompleted:28,filesProcessed:28,averageProcessingTime:4200,month:"August",year:2025},creditBalance:{remaining:(null==e?void 0:e.creditsRemaining)||2550,total:((null==e?void 0:e.creditsRemaining)||2550)+((null==e?void 0:e.creditsUsedThisMonth)||450),usedThisMonth:(null==e?void 0:e.creditsUsedThisMonth)||450,percentageUsed:e?e.creditsUsedThisMonth/(e.creditsRemaining+e.creditsUsedThisMonth)*100:15,subscriptionTier:(null==e?void 0:e.subscriptionTier)||"BASIC"},processingStats:{totalJobs:127,completedJobs:124,failedJobs:3,successRate:98.5,totalProducts:3420,successfulMatches:3368,averageConfidence:94.2}})}finally{d(!1)}})()},[e]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",null==e?void 0:e.firstName,"!"]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Here's an overview of your processing activity and account statistics"})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(g,{creditBalance:null==s?void 0:s.creditBalance,loading:o})}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(Y.A,{className:"h-5 w-5"}),"Quick Upload"]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Start processing your customs declaration files with AI-powered HS code matching"}),(0,a.jsx)(n.$,{asChild:!0,className:"w-full",children:(0,a.jsxs)(ea(),{href:"/dashboard/upload",children:[(0,a.jsx)(Y.A,{className:"mr-2 h-4 w-4"}),"Upload Files"]})}),(0,a.jsx)(n.$,{variant:"outline",asChild:!0,className:"w-full",children:(0,a.jsxs)(ea(),{href:"/dashboard/history",children:[(0,a.jsx)(ee.A,{className:"mr-2 h-4 w-4"}),"View History"]})})]})})]})]}),(0,a.jsx)(B,{statistics:s||void 0,loading:o}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5"}),"Analytics Dashboard"]}),(0,a.jsx)(l.BT,{children:"Interactive data visualization of your processing performance and trends"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)(G,{statistics:s||void 0,loading:o})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsx)(l.ZB,{children:"Recent Processing Jobs"}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(ea(),{href:"/dashboard/history",children:["View All",(0,a.jsx)(es.A,{className:"ml-2 h-4 w-4"})]})})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"space-y-4",children:u.map(e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(e=>{switch(e){case"completed":return(0,a.jsx)(y.A,{className:"h-4 w-4 text-green-500"});case"processing":return(0,a.jsx)(Q.A,{className:"h-4 w-4 text-yellow-500 animate-pulse"});case"failed":return(0,a.jsx)(C.A,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(A.A,{className:"h-4 w-4 text-gray-400"})}})(e.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.fileName}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.date})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm font-medium",children:[e.products," products"]}),e.confidence>0&&(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.confidence,"% confidence"]})]}),(s=e.status,(0,a.jsx)(c.E,{variant:{completed:"default",processing:"secondary",failed:"destructive"}[s]||"outline",children:s.charAt(0).toUpperCase()+s.slice(1)}))]})]},e.id)})}),0===u.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(ee.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No processing jobs yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Upload your first file to get started"}),(0,a.jsx)(n.$,{asChild:!0,children:(0,a.jsxs)(ea(),{href:"/dashboard/upload",children:[(0,a.jsx)(Y.A,{className:"mr-2 h-4 w-4"}),"Upload Files"]})})]})]})]}),x&&(0,a.jsx)(l.Zp,{className:"border-red-200 bg-red-50",children:(0,a.jsx)(l.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-600",children:[(0,a.jsx)(Q.A,{className:"h-4 w-4"}),(0,a.jsxs)("p",{className:"text-sm",children:[x," - Using demo data for display"]})]})})})]})}},39039:(e,s,t)=>{"use strict";t.d(s,{n:()=>l});var a=t(21367),r=t(50848),i=t(96006);let l=(0,a.vt)()((0,r.lt)((e,s)=>({user:null,session:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(t,a)=>{e({isLoading:!0,error:null});try{let r=await (0,i.signIn)("credentials",{email:t,password:a,redirect:!1});if(null==r?void 0:r.error)return e({error:"Invalid email or password",isLoading:!1}),!1;return await s().refreshSession(),e({isLoading:!1}),!0}catch(s){return e({error:"Login failed. Please try again.",isLoading:!1}),!1}},logout:async()=>{e({isLoading:!0});try{await (0,i.signOut)({redirect:!1}),e({user:null,session:null,isAuthenticated:!1,isLoading:!1,error:null})}catch(s){e({error:"Logout failed",isLoading:!1})}},refreshSession:async()=>{try{let s=await (0,i.getSession)();(null==s?void 0:s.user)?e({session:s,user:s.user,isAuthenticated:!0}):e({session:null,user:null,isAuthenticated:!1})}catch(s){console.error("Failed to refresh session:",s),e({session:null,user:null,isAuthenticated:!1})}},register:async t=>{e({isLoading:!0,error:null});try{let a="http://localhost:8000",r={email:t.email,password:t.password,first_name:t.firstName,last_name:t.lastName,company_name:t.companyName};console.log("=== API REQUEST DEBUG ==="),console.log("API URL:","".concat(a,"/api/v1/auth/register")),console.log("Request Body:",r),console.log("Request Headers:",{"Content-Type":"application/json",Accept:"application/json"});let i=await fetch("".concat(a,"/api/v1/auth/register"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)});if(console.log("=== API RESPONSE DEBUG ==="),console.log("Response Status:",i.status),console.log("Response Headers:",Object.fromEntries(i.headers.entries())),!i.ok){let s=await i.json();return console.log("Error Response Body:",s),console.log("Detailed Error:",{status:i.status,statusText:i.statusText,errorDetail:s.detail,fullError:s}),e({error:s.detail||"Registration failed",isLoading:!1}),!1}let l=await i.json();console.log("Success Response Body:",l),console.log("Registration successful! User created:",l.user);let n=await s().login(t.email,t.password);return e({isLoading:!1}),n}catch(s){return console.log("=== CATCH ERROR DEBUG ==="),console.error("Registration network/parsing error:",s),console.log("Error type:",typeof s),console.log("Error message:",s instanceof Error?s.message:"Unknown error"),e({error:"Registration failed. Please try again.",isLoading:!1}),!1}},clearError:()=>e({error:null}),setSession:s=>{(null==s?void 0:s.user)?e({session:s,user:s.user,isAuthenticated:!0}):e({session:null,user:null,isAuthenticated:!1})}}),{name:"auth-store"}))},57542:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>c,TN:()=>d,XL:()=>o});var a=t(54568),r=t(7620),i=t(54616),l=t(25703);let n=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,...i}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,l.cn)(n({variant:r}),t),...i})});c.displayName="Alert";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h5",{ref:s,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})});o.displayName="AlertTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",t),...r})});d.displayName="AlertDescription"},60460:(e,s,t)=>{"use strict";t.d(s,{$:()=>o,r:()=>c});var a=t(54568),r=t(7620),i=t(46118),l=t(54616),n=t(25703);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:o=!1,...d}=e,x=o?i.DX:"button";return(0,a.jsx)(x,{className:(0,n.cn)(c({variant:r,size:l,className:t})),ref:s,...d})});o.displayName="Button"},61445:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(54568);t(7620);var r=t(54616),i=t(25703);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:t}),s),...r})}}},e=>{e.O(0,[6,326,954,532,533,809,587,18,358],()=>e(e.s=3578)),_N_E=e.O()}]);